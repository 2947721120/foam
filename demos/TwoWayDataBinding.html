<html>
 <head>
  <script language="javascript" src="../core/bootFOAM.js"></script>
  <title>Two-Way Data-Binding</title>
  <link rel="stylesheet" type="text/css" href="../core/foam.css" />
  <style>
  </style>
 </head>
 <body><script>
  FOAModel({
    name: 'Temperature',
    properties: [
//      'f', 'c'
      { name: 'c', model_: 'FloatProperty' },
      { name: 'f', model_: 'FloatProperty' }
    ],
    methods: {
      init: function() { Events.relate(this.c$, this.f$, this.c2f, this.f2c); },
      c2f: function(f) { return 9/5 * f + 32; },
      f2c: function(c) { return 5/9 * ( c - 32 ); }
    },
    templates: [
      function toDetailHTML() {/*
        $$c{onKeyMode: true, precision: 4} C <-> $$f{onKeyMode: true, precision: 4} F
      */}
    ]
  });
  var t = Temperature.create();
  t.write(document);


  FOAModel({
    name: 'Temperature2',
    properties: [
      {
        name: 'c',
        model_: 'FloatProperty',
        postSet: function(oldValue, newValue) {
          if ( oldValue !== newValue ) this.f = 9/5 * newValue + 32;
        }
      },
      {
        name: 'f',
        model_: 'FloatProperty',
        defaultValue: 32,
        postSet: function(oldValue, newValue) {
          if ( oldValue !== newValue ) this.c = 5/9 * ( newValue - 32 );
        }
      }
    ],
    templates: [
      function toDetailHTML() {/*
        $$c{onKeyMode: true, precision: 4} C <-> $$f{onKeyMode: true, precision: 4} F
      */}
    ]
  });
  var t2 = Temperature2.create();
  t2.write(document);
 </script></body>
</html>
